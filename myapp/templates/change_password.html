{% extends "base.html" %}

{% block content %}
  <h1 style="text-align: center; font-size: 28px; font-weight: bold; color: #2d572c; margin-bottom: 40px;">
    비밀번호 변경
  </h1>

  <form method="POST" style="max-width: 500px; margin: 0 auto; display: flex; flex-direction: column; gap: 20px;">
    <div style="display: flex; align-items: center; gap: 20px;">
      <label for="current_password" style="width: 130px; color: #2d572c; font-weight: bold;">현재 비밀번호</label>
      <input type="password" id="current_password" name="current_password" required
             style="flex: 1; padding: 12px; border: none; background-color: #cde2c1; border-radius: 12px;">
    </div>

    <div style="display: flex; align-items: center; gap: 20px;">
      <label for="new_password" style="width: 130px; color: #2d572c; font-weight: bold;">새 비밀번호</label>
      <input type="password" id="new_password" name="new_password" required
             style="flex: 1; padding: 12px; border: none; background-color: #cde2c1; border-radius: 12px;">
    </div>

    <div style="display: flex; align-items: center; gap: 20px;">
      <label for="confirm_password" style="width: 130px; color: #2d572c; font-weight: bold;">새 비밀번호 확인</label>
      <input type="password" id="confirm_password" name="confirm_password" required
             style="flex: 1; padding: 12px; border: none; background-color: #cde2c1; border-radius: 12px;">
    </div>

    <div style="text-align: center; margin-top: 20px;">
      <button type="submit"
              style="padding: 12px 32px; background-color: #e0e0e0; color: black; font-weight: bold; border: none; border-radius: 10px; cursor: pointer;">
        비밀번호 변경
      </button>
    </div>
  </form>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <ul style="max-width: 500px; margin: 20px auto; padding: 0;">
        {% for category, message in messages %}
          <li style="list-style: none; color: {{ 'red' if category == 'error' else 'green' }}; font-weight: bold;">
            {{ message }}
          </li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}
{% endblock %}

